# automation_suite
- **UI-тесты:** основаны на взаимодействии с браузером через Selenium WebDriver, обеспечивая проверку визуальных аспектов и доступности функционала сайта.
- **Unit-тесты:** фокусируются на внутренней логике приложений, используя технологии виртуализации зависимостей (Mockito) и специализированные инструменты для работы с RESTful-сервисами (MockMvc).
Оба подхода интегрированы с технологиями Java и Spring, поддерживая гибкость и масштабируемость системы тестирования.**
---
## **TestJava** - Автотесты на java:
- **CheckingAboutMePage.java**
- **CheckingConsultationRequestForms.java**
- **CheckingContactForms.java**
- **CheckingEducationPage.java**
- **CheckingMainPage.java**
Представленные выше тесты написаны на java с использованием фреймворков TestNG и Selenium WebDriver.
Тесты предназначены для проверки работоспособности страниц сайта "psycholog-vam.ru".

### Основные методы, использованиые в тестовых классах:
- **setup()** Метод выполняется перед каждым тестоым методом (Запуск браузера Chrome, открытие целевой страницы сайта и максимизация окна браузера);
- **tearDoun()** Метод закрывает браузер после каждого тестового метода;
- **тестовые методы**: отдельные тесты, осуществляющие конкретные проверки.

**Особенности реализации:**
- использованы аннотации TestNG (@BeforeMethod, @AfterMethod, @Test);
- для взаимодействия с элементами интерфейса использована библиотека Selenium WebDriver;
- для логирования использованы стандартные потоки вывода System.out и System.err;
- использованы утверждение Assert для подтверждения ожидаемого результата.

---

## CheckingPublicationsPage.groovy

###  Язык программирования и среда разработки:
- **Groovy**: Используется для написания классов и тестов. Это динамический язык, совместимый с Java, обладающий выразительным синтаксисом и удобной интеграцией с Java-экосистемой.
- **IDEA**: Основная среда разработки.

### Основные компоненты и их назначение:
- **JUnit** - Используется для написания модульных тестов и тестирования поведения приложения. Тестовые методы обозначены аннотациями (@Test, given, when, then);
- **Selenium WebDriver** - Библиотека для автоматизации взаимодействия с браузером;
- **JDK’s Built-in Level Enumeration:** - Перечисление уровней логирования (ALL, INFO, ERROR) для фильтрации сообщений по уровню важности;
- **WebDriverWait:** - часть Selenium WebDriver, применяется для реализации ожиданий определенных условий на странице, таких как загрузка элементов или изменение состояния страницы;
- **By Selector Class:** - класс из Selenium WebDriver, предназначенный для выбора элементов на веб-страницах по различным критериям (CSS селекторы, XPath, ID и др.);
- **Random:** - из стандартной библиотеки Java, применяется для случайного выбора индекса элемента из коллекции;
- **AssertionError:** - исключительная ситуация, бросаемая при неудачных проверках, служит для уведомления о проблемах в работе теста.
---

## ControllerTest:

- **ArticleCntrollerTest.java**
- **MainPageControllerTests.java**
- **SearchPublicationControllerTests.java**
- **MainPageServiceTest.java**

### ArticleControllerTest.java Основные компоненты и их назначение:

- **Spring Test Framework:**
    Используются аннотации:
    - @ContextConfiguration и @WebMvcTest, чтобы настроить окружение тестирования специально для веб-контроллеров.
    - @ContextConfiguration(classes = {ArticleController.class}): Настраивает конфигурацию контекста приложения для тестов, загружая только указанный класс контроллера.
    - @WebMvcTest(controllers = {ArticleController.class}): Подготавливает тестирование только указанного контроллера, изолируя остальные части приложения.
- **MockMvc:**
    - Используется для отправки HTTP-запросов к контроллеру и проверки результатов.
    - Этот инструмент позволяет проверить поведение контроллера независимо от реального окружения сервера.
- **Jackson (ObjectMapper):**
    - Применяется для сериализации объектов в JSON и обратно.
    - Перед отправкой запросов объект преобразуется в строку формата JSON с использованием метода writeValueAsString().
    - Модуль JavaTimeModule регистрируется перед каждым тестовым методом, чтобы обеспечить поддержку типов Java Time API.
- **JUnit Jupiter:**
    Стандартная библиотека для написания юнит-тестов в Java.
    Каждый метод начинается с аннотации @Test, определяющей тестовые методы.
- **Mockito:**
    - Для мокирования зависимостей используется библиотека Mockito.
    - Например, репозиторий публикаций (articleRepository) заменён моком для изоляции контроллера от базы данных.
    - Метод BDDMockito.given() задаёт ожидаемые значения для методов моков.
    - Использован подход Behaviour Driven Development (BDD).
- **AssertJ:**
    - Инструмент используется косвенно через MockMvc для утверждения результата HTTP-запросов.
    - Методы типа jsonPath() позволяют проверять структуру возвращаемого JSON-документа.

### MainPageControllerTests.java Основные компоненты и их назначение:

- **Spring Test Framework:**
    - @ContextConfiguration и @WebMvcTest используются для настройки среды тестирования исключительно для заданного контроллера.
    - @ContextConfiguration(classes = MainPageController.class) устанавливает загрузку конфигурации именно для контроллера главной страницы.
    - @WebMvcTest(MainPageController.class) настраивает среду для тестирования MVC-компонентов.
- **MockMvc:**
    - Используется для эмуляции HTTP-запросов и анализа ответов контроллера.
    - Запросы отправляются через метод perform(), позволяя задать необходимые HTTP-методы и пути.
    - Ответы контролируются методами вроде andExpect() и andDo(), которые помогают убедиться в правильности статуса ответа, типа контента и содержания тела ответа.
- **Mockito:**
    - Эта библиотека применяется для создания заглушек ("mocks") сервиса (mainPageService), позволяющих имитировать возврат значений сервисных методов.
    - Здесь использован метод given(), позволяющий задать ожидания для поведения сервисов.
- **AssertJ:**
    - Используемый имплицитно через MockMvc для проверок состояния ответа.
    - Контроль осуществляется через методы status(), contentType() и строковые сравнения внутри JSON-тела ответа.
- **JUnit Jupiter:**
    - Основной механизм для запуска и описания тестов.
    - Каждая проверка помечается аннотацией @Test, обозначающей отдельный тестовый сценарий.

### SearchPublicationControllerTests.java Основные компоненты и их назначение:

- **Spring Test Framework:**
    - @ContextConfiguration и @WebMvcTest, чтобы создать минималистичное окружение для тестирования Web-приложения.
    - @ContextConfiguration(classes = {SearchPublicationController.class}): Конфигурирует классы контекста только для целевого контроллера.
    - @WebMvcTest(controllers = SearchPublicationController.class): Ограничивает область тестирования одним контроллером.
    - **MockMvc:**
    - Обеспечивает симуляцию HTTP-запросов и проверку отклика контроллера.
    - Выполняются запросы через post() и content(), устанавливаются типы контента и проверяются ответы через andExpect().
- **Jackson (ObjectMapper):**
    - Отвечает за сериализацию и десериализацию объектов в формат JSON.
    - Преобразование объекта в байтовый массив с помощью objectMapper.writeValueAsBytes().
- **Mockito:**
    - Служит для создания и управления поведением моков (заглушек).
    - Используется аннотация @MockitoBean для замены реализации интерфейса службы публикациями (PublicationService).
    - Определённые сценарии поведения сервисов реализованы через when() и thenReturn().
- **JUnit Jupiter:**
    - Основная инфраструктура для выполнения тестов.
    - Все тестовые методы отмечены аннотацией @Test.
- **AssertJ:**
    - Используя MockMvc, этот инструмент помогает сделать выражения для утверждений компактнее и выразительнее.
    - Использует методы типа status(), jsonPath() и др., встроенные в сам MockMvc.

### MainPageServiceTest.java Основные компоненты и их назначение:

- **JUnit Jupiter:**
    - Основной инструмент для запуска и организации тестов.
    - Каждый тест отмечен аннотацией @Test, определяющей единичный тестовый сценарий.
- **Mockito:**
    - Библиотека для создания заглушек и моделирования поведения зависимых классов.
    - Используется аннотация @Mock для автоматического создания заглушек.
    - Аннотация @InjectMocks автоматически внедряет зависимости в тестируемый объект (MainPageService).
    - Создаются моки для методов хранилища статей (repository), такие как findFirstByOrderByIdDesc().
- **Assertions from AssertJ:**
    - Современная библиотека утверждений, обеспечивающая понятные и удобные синтаксически конструкции для проверки результатов.
    - Утверждения выполнены через метод assertThat(), что улучшает читаемость и структурированность тестов.
- **Dependency Injection with JUnit Extension:**
    - Используется расширение @ExtendWith(MockitoExtension.class), которое автоматизирует внедрение моков и инициализацию тестируемых объектов.
